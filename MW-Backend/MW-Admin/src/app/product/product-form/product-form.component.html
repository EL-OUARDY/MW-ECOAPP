<div class="divaddproduct" id="my-addproduct">
  <form #f="ngForm" (ngSubmit)="onSubmit(f)" autocomplete="off">
    <input type="hidden" [(ngModel)]="_Product.Id" name="Id" #Id="ngModel">
    <div class="divtitleprod">

      <label>Source</label>
      <input id="inpulien" required minlength="6" type="text" name="SourceLink" placeholder="https://example.io">

      <label>Name</label>
      <input id="inputtitle" required minlength="6" type="text" [(ngModel)]="_Product.Name" name="Name" #Name="ngModel">

      <label>Price</label>
      <input class="inputprice" required maxlength="7" type="number" [(ngModel)]="_Product.Price" name="Price"
        #Price="ngModel">

      <svg *ngIf="!expand" (click)="expand = true" version="1.1" x="0px" y="0px" viewBox="0 0 286.376 286.376"
        style="enable-background:new 0 0 286.376 286.376;" xml:space="preserve">
        <path style="fill-rule:evenodd;clip-rule:evenodd;"
          d="M268.477,125.29H161.086V17.899c0-9.885-8.013-17.898-17.898-17.898   s-17.898,8.013-17.898,17.898v107.39H17.9c-9.885,0-17.9,8.013-17.9,17.898c0,9.885,8.015,17.898,17.9,17.898h107.39v107.39   c0,9.885,8.013,17.898,17.898,17.898s17.898-8.013,17.898-17.898v-107.39h107.391c9.885,0,17.898-8.014,17.898-17.898   C286.376,133.303,278.362,125.29,268.477,125.29z">
        </path>
      </svg>

      <ng-container *ngIf="expand">

        <label>Old Price</label>
        <input class="inputprice" maxlength="7" type="number" [(ngModel)]="_Product.OldPrice" name="OldPrice"
          #OldPrice="ngModel">
        <svg (click)="expand = false" version="1.1" x="0px" y="0px" viewBox="0 0 612 612"
          style="enable-background:new 0 0 612 612;" xml:space="preserve">
          <polygon
            points="612,36.004 576.521,0.603 306,270.608 35.478,0.603 0,36.004 270.522,306.011 0,575.997 35.478,611.397      306,341.411 576.521,611.397 612,575.997 341.459,306.011    ">
          </polygon>
        </svg>

      </ng-container>

    </div>

    <div class="divimageproduct">
      <!-- add images for new product  -->
      <ng-container *ngIf=" _formJob === 'Add' ; else editingProduct1">
          <div (click)="resetInputs();mainImg.click()" class="divmainimageprod">
            <input #mainImg type="file" name="MainImg" ngModel (change)="setMainImage($event.target.files)">
            <img *ngIf="imgPath; else noImage " [src]="imgPath" class="mainimage">
            <ng-template #noImage>
              <svg _ngcontent-c3="" xml:space="preserve" class="svgplusimage" enable-background="new 0 0 1000 1000"
                version="1.1" viewBox="0 0 1000 1000" x="0px" y="0px">
                <path _ngcontent-c3=""
                  d="M383.6,313.6c0-38.7-31.4-70-70.1-70c-38.7,0-70,31.4-70,70c0,38.7,31.4,70.1,70,70.1C352.3,383.6,383.6,352.3,383.6,313.6L383.6,313.6z">
                </path>
                <path _ngcontent-c3="" d="M383.6,313.6"></path>
                <path _ngcontent-c3=""
                  d="M616.5,671.3h57.9v-57.9c0-42.6,25.6-79.3,62.1-95.9l-9.7-33.2V482h0.1l-63.3-191.4L442.4,576l-59.3-100.4L148,712.9h346.3h38.9C552.5,687.8,582.5,671.3,616.5,671.3z">
                </path>
                <path _ngcontent-c3=""
                  d="M990,166.8C990,80.6,919.4,10,833.2,10H166.8C80.6,10,10,80.6,10,166.8v666.4C10,919.4,80.6,990,166.8,990h470.4v0c0.1,0,0.1,0,0.2,0c16.2,0,29.4-13.2,29.4-29.4c0-16.2-13.2-29.4-29.4-29.4c-0.1,0-0.1,0-0.2,0v0H166.8c-54.1,0-98-43.9-98-98V166.8c0-54.1,43.9-98,98-98h666.4c54.1,0,98,43.9,98,98v467.5c0,0.4-0.2,0.6-0.2,0.9c0,16.2,13.2,29.4,29.4,29.4c16.2,0,29.4-13.2,29.4-29.4c0-0.1-0.1-0.2-0.1-0.4h0.3V166.8z">
                </path>
                <path _ngcontent-c3=""
                  d="M959.5,747.5H809.6V597.6c0-16.2-13.2-29.4-29.4-29.4c-16.2,0-29.4,13.2-29.4,29.4v149.9H600.9c-16.2,0-29.4,13.2-29.4,29.4c0,16.2,13.2,29.4,29.4,29.4h149.9v149.9c0,16.2,13.2,29.4,29.4,29.4c16.2,0,29.4-13.2,29.4-29.4V806.3h149.9c16.2,0,29.4-13.2,29.4-29.4C988.9,760.6,975.7,747.5,959.5,747.5z">
                </path>
              </svg>
            </ng-template>
          </div>
  
          <div class="divmoreimage">
            <div (click)="resetInputs();galleryImgs.click()" class="roidfudsdxv">
              <input [disabled]="(GalleryImgs.length + _Product.galleryImgs.length) === _maxG" #galleryImgs type="file" accept="image/*"
                name="GalleryImgs" ngModel multiple (change)="addGalleryImages($event.target.files)">
              <svg class="svgplusimage" version="1.1" x="0px" y="0px" viewBox="0 0 1000 1000"
                enable-background="new 0 0 1000 1000" xml:space="preserve">
                <path
                  d="M383.6,313.6c0-38.7-31.4-70-70.1-70c-38.7,0-70,31.4-70,70c0,38.7,31.4,70.1,70,70.1C352.3,383.6,383.6,352.3,383.6,313.6L383.6,313.6z">
                </path>
                <path d="M383.6,313.6"></path>
                <path
                  d="M616.5,671.3h57.9v-57.9c0-42.6,25.6-79.3,62.1-95.9l-9.7-33.2V482h0.1l-63.3-191.4L442.4,576l-59.3-100.4L148,712.9h346.3h38.9C552.5,687.8,582.5,671.3,616.5,671.3z">
                </path>
                <path
                  d="M990,166.8C990,80.6,919.4,10,833.2,10H166.8C80.6,10,10,80.6,10,166.8v666.4C10,919.4,80.6,990,166.8,990h470.4v0c0.1,0,0.1,0,0.2,0c16.2,0,29.4-13.2,29.4-29.4c0-16.2-13.2-29.4-29.4-29.4c-0.1,0-0.1,0-0.2,0v0H166.8c-54.1,0-98-43.9-98-98V166.8c0-54.1,43.9-98,98-98h666.4c54.1,0,98,43.9,98,98v467.5c0,0.4-0.2,0.6-0.2,0.9c0,16.2,13.2,29.4,29.4,29.4c16.2,0,29.4-13.2,29.4-29.4c0-0.1-0.1-0.2-0.1-0.4h0.3V166.8z">
                </path>
                <path
                  d="M959.5,747.5H809.6V597.6c0-16.2-13.2-29.4-29.4-29.4c-16.2,0-29.4,13.2-29.4,29.4v149.9H600.9c-16.2,0-29.4,13.2-29.4,29.4c0,16.2,13.2,29.4,29.4,29.4h149.9v149.9c0,16.2,13.2,29.4,29.4,29.4c16.2,0,29.4-13.2,29.4-29.4V806.3h149.9c16.2,0,29.4-13.2,29.4-29.4C988.9,760.6,975.7,747.5,959.5,747.5z">
                </path>
              </svg>
            </div>
  
            <ng-container *ngFor="let item of GalleryImgs">
              <div class="roidfudsdxv">
                <div class="rytfhgqsfez">
                  <svg (click)="asMainImage(item.img)" class="imgControle" version="1.1" x="0px" y="0px"
                    viewBox="0 0 45.937 45.937" style="enable-background:new 0 0 45.937 45.937;" xml:space="preserve">
                    <path
                      d="M44.745,18.253L24.455,0.558c-0.852-0.743-2.121-0.743-2.973,0L1.191,18.253c-0.474,0.414-0.642,1.088-0.421,1.677    c0.221,0.589,0.784,0.99,1.413,0.99h2.45v23.458c0,0.834,0.629,1.558,1.463,1.558H39.84c0.834,0,1.428-0.724,1.428-1.558V20.92    h2.485c0.629,0,1.193-0.401,1.414-0.99S45.219,18.667,44.745,18.253z M27.257,31.398c0,0.614-0.529,1.143-1.144,1.143h-6.289    c-0.614,0-1.11-0.527-1.11-1.143v-7.109c0-2.351,1.92-4.256,4.271-4.256c2.352,0,4.271,1.906,4.271,4.256V31.398z">
                    </path>
                  </svg>
                  <svg (click)="removeGalleryImage(item.name)" class="imgControle" version="1.1" x="0px" y="0px"
                    viewBox="0 0 612 612" xml:space="preserve">
                    <polygon
                      points="612,36.004 576.521,0.603 306,270.608 35.478,0.603 0,36.004 270.522,306.011 0,575.997 35.478,611.397      306,341.411 576.521,611.397 612,575.997 341.459,306.011    ">
                    </polygon>
                  </svg>
                </div>
                <img class="otherimage" [src]="item.data">
              </div>
            </ng-container>
  
          </div>
      </ng-container>
      <!-- Edit existing product images -->
      <ng-template  #editingProduct1>
        <div (click)="resetInputs();mainImg.click()" class="divmainimageprod">
          <input #mainImg type="file" name="MainImg" ngModel (change)="setMainImage($event.target.files)">
          <img *ngIf="_Product.mainImg && !imgPath && !mainImgFromCopy" src="/Content/Images/Products/{{(_formJob === 'Copy') ? copyingId : _Product.Id }}/Main/{{_Product.mainImg}}" class="mainimage">
          
          <img *ngIf=" imgPath && !mainImgFromCopy" [src]="imgPath" class="mainimage halfOpacity">
        
          <img *ngIf=" mainImgFromCopy " 
          src="/Content/Images/Products/{{ copyingId }}/Gallery/{{mainImgFromCopy}}"
          class="mainimage halfOpacity">

          <!-- <ng-template #noImage>
            <svg _ngcontent-c3="" xml:space="preserve" class="svgplusimage" enable-background="new 0 0 1000 1000"
              version="1.1" viewBox="0 0 1000 1000" x="0px" y="0px">
              <path _ngcontent-c3=""
                d="M383.6,313.6c0-38.7-31.4-70-70.1-70c-38.7,0-70,31.4-70,70c0,38.7,31.4,70.1,70,70.1C352.3,383.6,383.6,352.3,383.6,313.6L383.6,313.6z">
              </path>
              <path _ngcontent-c3="" d="M383.6,313.6"></path>
              <path _ngcontent-c3=""
                d="M616.5,671.3h57.9v-57.9c0-42.6,25.6-79.3,62.1-95.9l-9.7-33.2V482h0.1l-63.3-191.4L442.4,576l-59.3-100.4L148,712.9h346.3h38.9C552.5,687.8,582.5,671.3,616.5,671.3z">
              </path>
              <path _ngcontent-c3=""
                d="M990,166.8C990,80.6,919.4,10,833.2,10H166.8C80.6,10,10,80.6,10,166.8v666.4C10,919.4,80.6,990,166.8,990h470.4v0c0.1,0,0.1,0,0.2,0c16.2,0,29.4-13.2,29.4-29.4c0-16.2-13.2-29.4-29.4-29.4c-0.1,0-0.1,0-0.2,0v0H166.8c-54.1,0-98-43.9-98-98V166.8c0-54.1,43.9-98,98-98h666.4c54.1,0,98,43.9,98,98v467.5c0,0.4-0.2,0.6-0.2,0.9c0,16.2,13.2,29.4,29.4,29.4c16.2,0,29.4-13.2,29.4-29.4c0-0.1-0.1-0.2-0.1-0.4h0.3V166.8z">
              </path>
              <path _ngcontent-c3=""
                d="M959.5,747.5H809.6V597.6c0-16.2-13.2-29.4-29.4-29.4c-16.2,0-29.4,13.2-29.4,29.4v149.9H600.9c-16.2,0-29.4,13.2-29.4,29.4c0,16.2,13.2,29.4,29.4,29.4h149.9v149.9c0,16.2,13.2,29.4,29.4,29.4c16.2,0,29.4-13.2,29.4-29.4V806.3h149.9c16.2,0,29.4-13.2,29.4-29.4C988.9,760.6,975.7,747.5,959.5,747.5z">
              </path>
            </svg>
          </ng-template> -->
        </div>

        <div class="divmoreimage">
          <div (click)="resetInputs();galleryImgs.click()" class="roidfudsdxv">
            <input [disabled]="(GalleryImgs.length + _Product.galleryImgs.length) === _maxG" #galleryImgs type="file" accept="image/*" name="GalleryImgs" 
              multiple (change)="addGalleryImages($event.target.files)">
            <svg class="svgplusimage" version="1.1" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000"
              xml:space="preserve">
              <path
                d="M383.6,313.6c0-38.7-31.4-70-70.1-70c-38.7,0-70,31.4-70,70c0,38.7,31.4,70.1,70,70.1C352.3,383.6,383.6,352.3,383.6,313.6L383.6,313.6z">
              </path>
              <path d="M383.6,313.6"></path>
              <path
                d="M616.5,671.3h57.9v-57.9c0-42.6,25.6-79.3,62.1-95.9l-9.7-33.2V482h0.1l-63.3-191.4L442.4,576l-59.3-100.4L148,712.9h346.3h38.9C552.5,687.8,582.5,671.3,616.5,671.3z">
              </path>
              <path
                d="M990,166.8C990,80.6,919.4,10,833.2,10H166.8C80.6,10,10,80.6,10,166.8v666.4C10,919.4,80.6,990,166.8,990h470.4v0c0.1,0,0.1,0,0.2,0c16.2,0,29.4-13.2,29.4-29.4c0-16.2-13.2-29.4-29.4-29.4c-0.1,0-0.1,0-0.2,0v0H166.8c-54.1,0-98-43.9-98-98V166.8c0-54.1,43.9-98,98-98h666.4c54.1,0,98,43.9,98,98v467.5c0,0.4-0.2,0.6-0.2,0.9c0,16.2,13.2,29.4,29.4,29.4c16.2,0,29.4-13.2,29.4-29.4c0-0.1-0.1-0.2-0.1-0.4h0.3V166.8z">
              </path>
              <path
                d="M959.5,747.5H809.6V597.6c0-16.2-13.2-29.4-29.4-29.4c-16.2,0-29.4,13.2-29.4,29.4v149.9H600.9c-16.2,0-29.4,13.2-29.4,29.4c0,16.2,13.2,29.4,29.4,29.4h149.9v149.9c0,16.2,13.2,29.4,29.4,29.4c16.2,0,29.4-13.2,29.4-29.4V806.3h149.9c16.2,0,29.4-13.2,29.4-29.4C988.9,760.6,975.7,747.5,959.5,747.5z">
              </path>
            </svg>
          </div>

          <ng-container *ngFor="let item of _Product.galleryImgs">
            <div class="roidfudsdxv">
              <div class="rytfhgqsfez">
                <svg (click)="asMainImageServer(item)" class="imgControle" version="1.1" x="0px" y="0px" viewBox="0 0 45.937 45.937"
                  style="enable-background:new 0 0 45.937 45.937;" xml:space="preserve">
                  <path
                    d="M44.745,18.253L24.455,0.558c-0.852-0.743-2.121-0.743-2.973,0L1.191,18.253c-0.474,0.414-0.642,1.088-0.421,1.677    c0.221,0.589,0.784,0.99,1.413,0.99h2.45v23.458c0,0.834,0.629,1.558,1.463,1.558H39.84c0.834,0,1.428-0.724,1.428-1.558V20.92    h2.485c0.629,0,1.193-0.401,1.414-0.99S45.219,18.667,44.745,18.253z M27.257,31.398c0,0.614-0.529,1.143-1.144,1.143h-6.289    c-0.614,0-1.11-0.527-1.11-1.143v-7.109c0-2.351,1.92-4.256,4.271-4.256c2.352,0,4.271,1.906,4.271,4.256V31.398z">
                  </path>
                </svg>
                <svg (click)="removeGalleryImageServer(item)" class="imgControle" version="1.1" x="0px" y="0px" viewBox="0 0 612 612"
                  xml:space="preserve">
                  <polygon
                    points="612,36.004 576.521,0.603 306,270.608 35.478,0.603 0,36.004 270.522,306.011 0,575.997 35.478,611.397      306,341.411 576.521,611.397 612,575.997 341.459,306.011    ">
                  </polygon>
                </svg>
              </div>
              <img class="otherimage" src="/Content/Images/Products/{{(_formJob === 'Copy') ? copyingId : _Product.Id}}/Gallery/{{item}}">
            </div>
          </ng-container>

          <ng-container *ngFor="let item of GalleryImgs">
            <div class="roidfudsdxv halfOpacity">
              <div class="rytfhgqsfez">
                <svg (click)="asMainImagePlus(item.img)" class="imgControle" version="1.1" x="0px" y="0px" viewBox="0 0 45.937 45.937"
                  style="enable-background:new 0 0 45.937 45.937;" xml:space="preserve">
                  <path
                    d="M44.745,18.253L24.455,0.558c-0.852-0.743-2.121-0.743-2.973,0L1.191,18.253c-0.474,0.414-0.642,1.088-0.421,1.677    c0.221,0.589,0.784,0.99,1.413,0.99h2.45v23.458c0,0.834,0.629,1.558,1.463,1.558H39.84c0.834,0,1.428-0.724,1.428-1.558V20.92    h2.485c0.629,0,1.193-0.401,1.414-0.99S45.219,18.667,44.745,18.253z M27.257,31.398c0,0.614-0.529,1.143-1.144,1.143h-6.289    c-0.614,0-1.11-0.527-1.11-1.143v-7.109c0-2.351,1.92-4.256,4.271-4.256c2.352,0,4.271,1.906,4.271,4.256V31.398z">
                  </path>
                </svg>
                <svg (click)="removeGalleryImage(item.name)" class="imgControle" version="1.1" x="0px" y="0px"
                  viewBox="0 0 612 612" xml:space="preserve">
                  <polygon
                    points="612,36.004 576.521,0.603 306,270.608 35.478,0.603 0,36.004 270.522,306.011 0,575.997 35.478,611.397      306,341.411 576.521,611.397 612,575.997 341.459,306.011    ">
                  </polygon>
                </svg>
              </div>
              <img class="otherimage" [src]="item.data">
            </div>
          </ng-container>

        </div>
      </ng-template>


      <div class="divcolorproduct">
        <div class="lijksdfgdsvc">

          <mat-radio-group [(ngModel)]="_Product.Color" name="Color">
            <div [ngStyle]="{'background': 'var(--'+ item + ')'  }" *ngFor="let item of colors" class="colorbox">
              <mat-radio-button [disabled]=" hasNoColor " [value]="item"></mat-radio-button>
            </div>
          </mat-radio-group>
          <div class="noColor">
            <mat-checkbox (change)="setNoColor()" name="hasNoColor" [(ngModel)]="hasNoColor">No Color</mat-checkbox>
          </div>
          <!-- <mat-select  #colorSelect (selectionChange)="mixedColor(colorSelect)" >
              <div [ngStyle]="{'background': 'var(--'+ item + ')'  }" *ngFor="let item of colors" class="colorbox">
                <mat-option [value]="item"></mat-option>
              </div>
            </mat-select> -->

        </div>
      </div>

      <div class="divcategproduct">
        <div class="iofdgljkgfd">
          <div class="selectsubcateg1">
            <mat-select disableOptionCentering #Category (selectionChange)="getSub(Category.value, true)"
              name="CategoryId" required [(ngModel)]="_Product.CategoryId" placeholder="Category"
              panelClass="select-panel">
              <mat-option *ngFor="let item of categories" [value]="item.Id">{{item.Name}}</mat-option>
            </mat-select>
          </div>

          <div class="selectsubcateg1">
            <mat-select disableOptionCentering name="SubCategoryId" required [(ngModel)]="_Product.SubCategoryId"
              placeholder="SubCategory" panelClass="select-panel">
              <mat-option *ngFor="let item of subCategories" [value]="item.Id">{{item.Name}}</mat-option>
              <mat-option *ngIf="subCategories?.length === 0" >
                <p class="emptyCat">Empty Category</p>
              </mat-option>
            </mat-select>
          </div>

          <div (click)="manageCategories()" class="labplustype">
            <svg class="svgpluytrice" version="1.1" x="0px" y="0px" viewBox="0 0 286.376 286.376" xml:space="preserve">
              <path style="fill-rule:evenodd;clip-rule:evenodd;"
                d="M268.477,125.29H161.086V17.899c0-9.885-8.013-17.898-17.898-17.898   s-17.898,8.013-17.898,17.898v107.39H17.9c-9.885,0-17.9,8.013-17.9,17.898c0,9.885,8.015,17.898,17.9,17.898h107.39v107.39   c0,9.885,8.013,17.898,17.898,17.898s17.898-8.013,17.898-17.898v-107.39h107.391c9.885,0,17.898-8.014,17.898-17.898   C286.376,133.303,278.362,125.29,268.477,125.29z">
              </path>
            </svg> 
            <label class="dfgcbxvc">Manage</label>
          </div>
          <div (click)="refreshCat()" class="labplustype refreshCat">
            <svg class="svgpluytrice" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 495.099 495.099" xml:space="preserve"><g><g id="XMLID_73_">
                <g id="XMLID_75_">
                  <path id="XMLID_76_" d="M203.82,1.475c-1.28,1.472-1.422,3.624-0.328,5.247l28.608,42.45    C129.497,57.098,48.389,142.944,48.389,247.546c0,59.917,26.716,113.6,68.714,150.149c3.524-4.587,7.842-8.597,13.274-11.282    l34.04-16.833c-38.96-26.623-64.605-71.382-64.605-122.034c0-75.819,57.44-138.424,131.083-146.733l-27.394,40.658    c-1.096,1.625-0.962,3.774,0.327,5.249c1.289,1.473,3.405,1.891,5.154,1.028c35.723-17.665,103.131-51.013,135.047-66.803    c5.734-2.837,5.722-11.012-0.013-13.846c-92.208-45.566-75.115-37.037-135.041-66.653C207.225-0.418,205.108,0.001,203.82,1.475z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#FFFFFF"/>
                </g>
                <path id="XMLID_74_" d="M446.71,247.546c0-59.758-26.582-113.314-68.403-149.856c-3.507,4.494-7.734,8.445-12.957,10.998   l-34.415,17.015c38.817,26.649,64.353,71.309,64.353,121.844c0,75.585-57.089,138.005-130.397,146.634l27.335-40.551   c1.096-1.624,0.954-3.773-0.326-5.248c-1.289-1.473-3.408-1.891-5.156-1.028c-51.816,25.61-17.87,8.829-141.178,69.776   c-1.472,0.727-2.401,2.225-2.401,3.867v0.007c0,1.65,0.929,3.139,2.401,3.858c0,0,95.723,47.322,141.169,69.794   c1.748,0.862,3.867,0.443,5.156-1.028c1.289-1.475,1.423-3.626,0.326-5.249l-28.615-42.475   C365.919,437.667,446.71,351.946,446.71,247.546z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#FFFFFF"/>
                </g></g>
              </svg>
          </div>
        </div>
      </div>
      
    </div>

    <div class="divdecription">
      <div class="textareaWrapper">
        <ng-scrollbar [shown]="'always'" class="txtareacontent" barClass="scrollbar" thumbClass="scroll-thumb">
          <textarea matInput cdkTextareaAutosize required [(ngModel)]="_Product.Description" name="Description"
            #des="ngModel"></textarea>
        </ng-scrollbar>
      </div>

      <div class="divimagedescr">
        <!-- Adding Product images  -->
        <ng-container *ngIf=" _formJob === 'Add' ; else editingProduct2">
            <div (click)="resetInputs();descImgs.click()" class="uopietter">
              <input [disabled]="(DescImgs.length + _Product.descImgs.length) === _maxD" #descImgs type="file" accept="image/*" name="DescImgs" ngModel multiple
                (change)="addDescImages($event.target.files)">
              <svg class="svgplusimage" version="1.1" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000"
                xml:space="preserve">
                <path
                  d="M383.6,313.6c0-38.7-31.4-70-70.1-70c-38.7,0-70,31.4-70,70c0,38.7,31.4,70.1,70,70.1C352.3,383.6,383.6,352.3,383.6,313.6L383.6,313.6z">
                </path>
                <path d="M383.6,313.6"></path>
                <path
                  d="M616.5,671.3h57.9v-57.9c0-42.6,25.6-79.3,62.1-95.9l-9.7-33.2V482h0.1l-63.3-191.4L442.4,576l-59.3-100.4L148,712.9h346.3h38.9C552.5,687.8,582.5,671.3,616.5,671.3z">
                </path>
                <path
                  d="M990,166.8C990,80.6,919.4,10,833.2,10H166.8C80.6,10,10,80.6,10,166.8v666.4C10,919.4,80.6,990,166.8,990h470.4v0c0.1,0,0.1,0,0.2,0c16.2,0,29.4-13.2,29.4-29.4c0-16.2-13.2-29.4-29.4-29.4c-0.1,0-0.1,0-0.2,0v0H166.8c-54.1,0-98-43.9-98-98V166.8c0-54.1,43.9-98,98-98h666.4c54.1,0,98,43.9,98,98v467.5c0,0.4-0.2,0.6-0.2,0.9c0,16.2,13.2,29.4,29.4,29.4c16.2,0,29.4-13.2,29.4-29.4c0-0.1-0.1-0.2-0.1-0.4h0.3V166.8z">
                </path>
                <path
                  d="M959.5,747.5H809.6V597.6c0-16.2-13.2-29.4-29.4-29.4c-16.2,0-29.4,13.2-29.4,29.4v149.9H600.9c-16.2,0-29.4,13.2-29.4,29.4c0,16.2,13.2,29.4,29.4,29.4h149.9v149.9c0,16.2,13.2,29.4,29.4,29.4c16.2,0,29.4-13.2,29.4-29.4V806.3h149.9c16.2,0,29.4-13.2,29.4-29.4C988.9,760.6,975.7,747.5,959.5,747.5z">
                </path>
              </svg>
            </div>
            <ng-container *ngFor="let item of DescImgs">
              <div class="uopietter">
                <div (click)="removeDescImage(item.name)" class="rytfhgqsfez">
                  <svg class="imgControle" version="1.1" x="0px" y="0px" viewBox="0 0 612 612" xml:space="preserve">
                    <polygon
                      points="612,36.004 576.521,0.603 306,270.608 35.478,0.603 0,36.004 270.522,306.011 0,575.997 35.478,611.397      306,341.411 576.521,611.397 612,575.997 341.459,306.011    ">
                    </polygon>
                  </svg>
                </div>
                <img class="otherimagedescr" [src]="item.data">
              </div>
            </ng-container>
        </ng-container>

        <!-- Edit existing images  -->
        <ng-template #editingProduct2>
          <div (click)="resetInputs();descImgs.click()" class="uopietter">
            <input [disabled]="(DescImgs.length + _Product.descImgs.length) === _maxD" #descImgs type="file" accept="image/*" name="DescImgs"  multiple
              (change)="addDescImages($event.target.files)">
            <svg class="svgplusimage" version="1.1" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000"
              xml:space="preserve">
              <path
                d="M383.6,313.6c0-38.7-31.4-70-70.1-70c-38.7,0-70,31.4-70,70c0,38.7,31.4,70.1,70,70.1C352.3,383.6,383.6,352.3,383.6,313.6L383.6,313.6z">
              </path>
              <path d="M383.6,313.6"></path>
              <path
                d="M616.5,671.3h57.9v-57.9c0-42.6,25.6-79.3,62.1-95.9l-9.7-33.2V482h0.1l-63.3-191.4L442.4,576l-59.3-100.4L148,712.9h346.3h38.9C552.5,687.8,582.5,671.3,616.5,671.3z">
              </path>
              <path
                d="M990,166.8C990,80.6,919.4,10,833.2,10H166.8C80.6,10,10,80.6,10,166.8v666.4C10,919.4,80.6,990,166.8,990h470.4v0c0.1,0,0.1,0,0.2,0c16.2,0,29.4-13.2,29.4-29.4c0-16.2-13.2-29.4-29.4-29.4c-0.1,0-0.1,0-0.2,0v0H166.8c-54.1,0-98-43.9-98-98V166.8c0-54.1,43.9-98,98-98h666.4c54.1,0,98,43.9,98,98v467.5c0,0.4-0.2,0.6-0.2,0.9c0,16.2,13.2,29.4,29.4,29.4c16.2,0,29.4-13.2,29.4-29.4c0-0.1-0.1-0.2-0.1-0.4h0.3V166.8z">
              </path>
              <path
                d="M959.5,747.5H809.6V597.6c0-16.2-13.2-29.4-29.4-29.4c-16.2,0-29.4,13.2-29.4,29.4v149.9H600.9c-16.2,0-29.4,13.2-29.4,29.4c0,16.2,13.2,29.4,29.4,29.4h149.9v149.9c0,16.2,13.2,29.4,29.4,29.4c16.2,0,29.4-13.2,29.4-29.4V806.3h149.9c16.2,0,29.4-13.2,29.4-29.4C988.9,760.6,975.7,747.5,959.5,747.5z">
              </path>
            </svg>
          </div>

          <ng-container *ngFor="let item of _Product.descImgs">
            <div class="uopietter">
              <div (click)="removeDescImageServer(item)" class="rytfhgqsfez">
                <svg class="imgControle" version="1.1" x="0px" y="0px" viewBox="0 0 612 612" xml:space="preserve">
                  <polygon
                    points="612,36.004 576.521,0.603 306,270.608 35.478,0.603 0,36.004 270.522,306.011 0,575.997 35.478,611.397      306,341.411 576.521,611.397 612,575.997 341.459,306.011    ">
                  </polygon>
                </svg>
              </div>
              <img class="otherimagedescr" src="/Content/Images/Products/{{(_formJob === 'Copy') ? copyingId : _Product.Id}}/Desc/{{item}}">
            </div>
          </ng-container>

          <ng-container *ngFor="let item of DescImgs">
            <div class="uopietter halfOpacity">
              <div (click)="removeDescImage(item.name)" class="rytfhgqsfez">
                <svg class="imgControle" version="1.1" x="0px" y="0px" viewBox="0 0 612 612" xml:space="preserve">
                  <polygon
                    points="612,36.004 576.521,0.603 306,270.608 35.478,0.603 0,36.004 270.522,306.011 0,575.997 35.478,611.397      306,341.411 576.521,611.397 612,575.997 341.459,306.011    ">
                  </polygon>
                </svg>
              </div>
              <img class="otherimagedescr" [src]="item.data">
            </div>
          </ng-container>
          
        </ng-template>

      </div>

      <div class="divshipping">
        <div class="uytuytyuuy">
          <label class="labshipping">Shipping</label>
          <mat-radio-group [(ngModel)]="_Product.ShippingMethod" name="ShippingMethod">
            <div class="eryttyyhy">
              <mat-radio-button value="gearbest">Gearbest</mat-radio-button>
            </div>
            <div class="eryttyyhy">
              <mat-radio-button value="aliexpress">Aliexpress</mat-radio-button>
            </div>
          </mat-radio-group>
          <div _ngcontent-c3="" class="labplustype">
            <svg _ngcontent-c3="" xml:space="preserve" class="svgpluytrice" version="1.1" viewBox="0 0 286.376 286.376"
              x="0px" y="0px">
              <path _ngcontent-c3=""
                d="M268.477,125.29H161.086V17.899c0-9.885-8.013-17.898-17.898-17.898   s-17.898,8.013-17.898,17.898v107.39H17.9c-9.885,0-17.9,8.013-17.9,17.898c0,9.885,8.015,17.898,17.9,17.898h107.39v107.39   c0,9.885,8.013,17.898,17.898,17.898s17.898-8.013,17.898-17.898v-107.39h107.391c9.885,0,17.898-8.014,17.898-17.898   C286.376,133.303,278.362,125.29,268.477,125.29z"
                style="fill-rule:evenodd;clip-rule:evenodd;"></path>
            </svg>
            <label _ngcontent-c3="" class="dfgcbxvc">Option</label></div>
        </div>
      </div>
    </div>

    <div class="formFooter">
      <div class="divtitleprod lastdiv">

        <label>Quantity</label>
        <input (blur)="QteBlured()" min="0" placeholder="NULL" class="inputprice" maxlength="7" type="number" [(ngModel)]="_Product.Quantity"
          name="Quantity">

        <label>On Sale</label>
        <div class="switch1" [ngClass]="{'switchadd1': _Product.OnSale}">
          <input (change)="OnsaleChanged()" name="OnSale" [(ngModel)]="_Product.OnSale" #OnSale="ngModel" id="checkanimat1" type="checkbox">
          <div class="switch2" [ngClass]="{'switchadd2': _Product.OnSale}"></div>
        </div>

      </div>

      <!-- <div class="bottonaddprod mgLeft" (click)="onSubmit(f)">
        {{ (_Product.Id > 0) ? 'Update' : 'Add Product' }}
      </div> -->
      <div class="bottonaddprod mgLeft" (click)="onSubmit(f)">
        {{ _formJob + ' Product'}}
      </div>

      <div class="bottonaddprod" (click)="Reset()">
        Reset
      </div>
    </div>
    <!-- <data-viewer 
      [data]="{ ProductMainImg: _Product.mainImg ? _Product.mainImg : 'no',
        imgPath: imgPath ? 'yes' : 'no',
        mainImgFromCopy: mainImgFromCopy ? mainImgFromCopy : 'no',
        isPristine: f.pristine }">
    </data-viewer> -->

    <!-- <data-viewer [data]="{job: _formJob, Id: _Product.Id, CopyId: copyingId}" ></data-viewer> -->
    
    <!-- <data-viewer [data]="_Product" ></data-viewer> -->
  </form>

  <div class="history">
    <product-history [Products]="lastProducts" (delete)="productDeleted($event)"></product-history>
  </div>
</div>